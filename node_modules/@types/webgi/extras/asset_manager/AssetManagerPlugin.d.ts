import { SimpleEventDispatcher } from 'webgi/helpers/EventDispatcher';
import { AddModelOptions, ISceneObject, IViewerPlugin } from 'webgi/interfaces';
import { IMaterialManager } from './AMaterialManager';
import { AssetImporter } from './importer/threejs/AssetImporter';
import { IAsset, IAssetExporter, IAssetManager, ImportAssetOptions, ProcessImportedOptions } from './AssetManager';
import { ViewerApp } from 'webgi/viewer/ViewerApp';
import { ObjectLoader2 } from 'webgi/extras/asset_manager/importer/threejs/loaders/ObjectLoader2';
import { AddObjectOptions } from 'webgi/core/threejs/RootScene';
export interface AssetManagerOptions {
    linkDropzone?: boolean;
    simpleCache?: boolean;
    storage?: Cache | Storage;
}
export declare type ImportAddOptions = ImportAssetOptions & AddModelOptions & AddObjectOptions;
export declare type AddImportedOptions = ProcessImportedOptions & AddObjectOptions & AddModelOptions;
export declare class AssetManagerPlugin extends SimpleEventDispatcher<''> implements IAssetManager, IViewerPlugin {
    static readonly PluginType = "AssetManager";
    private _viewer?;
    private _importer?;
    private _materials?;
    constructor(importer?: AssetImporter, materials?: IMaterialManager, { /* linkDropzone = true,*/ simpleCache, storage }?: AssetManagerOptions);
    addAsset(asset: IAsset, options?: ImportAddOptions): Promise<ISceneObject[]>;
    addFromPath(path: string, options?: ImportAddOptions): Promise<ISceneObject[]>;
    addProcessedAssets(imported: ISceneObject[], options: AddObjectOptions & AddModelOptions): (ISceneObject | undefined)[];
    addAssetSingle<T extends ISceneObject = ISceneObject>(asset: IAsset | undefined | string, options?: ImportAddOptions): Promise<T | undefined>;
    addImported(res: any, options?: AddImportedOptions): Promise<ISceneObject[] | undefined>;
    addImportedSingle<T extends ISceneObject>(res: any, options?: AddImportedOptions): Promise<T | undefined>;
    private _sceneUpdated;
    onAdded(viewer: ViewerApp): Promise<void>;
    onDispose(viewer: ViewerApp): Promise<void>;
    onRemove(viewer: ViewerApp): Promise<void>;
    get importer(): AssetImporter | undefined;
    get exporter(): IAssetExporter | undefined;
    get materials(): IMaterialManager | undefined;
    /**
     *
     * @param binary - if set to false, encodes all the array buffers to base64
     * @param meta
     */
    exportViewerConfig(binary?: boolean, meta?: any): Record<string, any>;
    exportPluginPresets(filter?: string[]): {
        plugins: any[] | undefined;
        resources: {
            geometries: {};
            materials: {};
            textures: {};
            images: {};
            shapes: {};
            skeletons: {};
            animations: {};
            extras: {};
        };
    };
    exportPluginPreset(plugin: IViewerPlugin): any;
    importPluginPreset(json: any, plugin?: IViewerPlugin): Promise<IViewerPlugin<import("webgi/interfaces").IViewerApp> | undefined>;
    static readonly ViewerTypeSlug = "vjson";
    importViewerConfig(viewerConfig: any, objLoader?: ObjectLoader2): Promise<void>;
    applyViewerConfig(viewerConfig: any, resources?: any): void;
    /**
     * @param json
     * @param objLoader
     * @param extraResources - preloaded resources in the format of viewer config resources.
     */
    importConfigResources(json: any, objLoader?: ObjectLoader2, extraResources?: any): Promise<any>;
}
//# sourceMappingURL=AssetManagerPlugin.d.ts.map