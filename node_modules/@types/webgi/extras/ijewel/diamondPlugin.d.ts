import { Mesh } from 'three';
import { AViewerPlugin } from 'webgi/core/AViewerPlugin';
import { IMaterial, IModel, ITexture, UiObjectConfig } from 'webgi/interfaces';
import { DiamondGeometryParameters, DiamondMaterialParameters, IDiamondGeometryOffsets } from 'webgi/extras/ijewel/utils';
import { ViewerApp } from 'webgi/viewer/ViewerApp';
export declare class DiamondPlugin extends AViewerPlugin<''> {
    static readonly PluginType = "Diamond";
    offsetCache: Record<string, IDiamondGeometryOffsets>;
    private _normalCapture?;
    enabled: boolean;
    envMap: ITexture | null;
    forceSceneEnvMap: boolean;
    get envMapRotation(): number;
    set envMapRotation(value: number);
    getEnvMap: () => ITexture<any> | null;
    refreshEnvMaps(): void;
    constructor();
    static readonly DIAMOND_GLTF_EXTENSION = "WEBGI_materials_diamond";
    private _modelProcessor;
    refreshUi(): void;
    onAdded(v: ViewerApp): Promise<void>;
    onRemove(v: ViewerApp): Promise<void>;
    prepareDiamondMesh(mesh: Mesh, { cacheKey, normalMapRes }: DiamondGeometryParameters): void;
    /**
     * Creates a new diamond material, prepare all the mesh assigned to the material, and set the new material on all the meshes.
     * @param material
     * @param geometryParams
     * @param materialParams
     */
    makeDiamond(material: IMaterial | undefined, geometryParams: DiamondGeometryParameters, materialParams: DiamondMaterialParameters & {
        isDiamond?: true;
    }): void;
    /**
     * Assigns a new material to the mesh
     * @param mesh
     * @param geometryParams
     * @param materialParams
     */
    makeDiamondMesh(mesh: IModel<Mesh>, geometryParams: DiamondGeometryParameters, materialParams: DiamondMaterialParameters & {
        isDiamond?: true;
    }): void;
    private _convertToDiamondMaterial;
    private _computeOffsets;
    uiConfig: UiObjectConfig;
}
//# sourceMappingURL=diamondPlugin.d.ts.map